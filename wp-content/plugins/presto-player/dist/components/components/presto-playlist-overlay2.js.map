{"file":"presto-playlist-overlay2.js","mappings":";;AAAA,MAAM,wBAAwB,GAAG,s4CAAs4C,CAAC;AACx6C,oCAAe,wBAAwB;;MCM1B,qBAAqB;;;;;;;;;kCAWK,CAAC;0BAGR,KAAK;yBASL,KAAK;oBAGX,KAAK;;;;;IAM7B,UAAU;;QAER,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,UAAU,EAAE;YACjC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,OAAO;SACR;;QAGD,UAAU,CAAC;YACT,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACvB,EAAE,GAAG,CAAC,CAAC;QAER,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC;YACxB,IAAI,IAAI,CAAC,IAAI,EAAE;gBACb,IAAI,CAAC,UAAU,EAAE,CAAC;aACnB;SACF,EAAE,CAAC,IAAI,CAAC,kBAAkB,IAAI,CAAC,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC;KACjD;;;;IAKD,aAAa;QACX,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;KACrB;;;;IAKD,UAAU;QACR,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;KAClB;;;;IAKD,oBAAoB;QAClB,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC5B;IAGD,qBAAqB,CAAC,GAAG;QACvB,IAAI,GAAG;YAAE,OAAO;QAChB,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC5B;;;;IAKD,MAAM;;QACJ,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;YACd,QACE,EAAC,IAAI,QACH,WAAK,KAAK,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,GAAQ,CAClC,EACP;SACH;QACD,MAAM,MAAM,GAAG,CAAA,MAAA,MAAA,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,YAAY,0CAAE,IAAI,0CAAE,MAAM,KAAI,UAAU,CAAC;QAChE,MAAM,SAAS,GAAG,CAAA,MAAA,MAAA,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,YAAY,0CAAE,IAAI,0CAAE,SAAS,KAAI,YAAY,CAAC;QACxE,MAAM,OAAO,GAAG,CAAA,MAAA,MAAA,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,YAAY,0CAAE,IAAI,0CAAE,OAAO,KAAI,SAAS,CAAC;QACjE,QACE,WACE,KAAK,EAAC,mBAAmB,EACzB,OAAO,EAAE,CAAC;;gBAER,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,wBAAwB,EAAE,CAAC;gBAC7B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB,IAED,WAAK,KAAK,EAAC,wBAAwB,IAChC,CAAC,IAAI,CAAC,UAAU,GAAG,aAAI,MAAM,MAAM,GAAG,aAAI,SAAS,MAAM,EAE1D,cAAK,IAAI,CAAC,aAAa,CAAM,EAE7B,WAAK,KAAK,EAAC,2BAA2B,IACpC,cAAQ,KAAK,EAAC,UAAU,EAAC,OAAO,EAAE,MAAM,IAAI,CAAC,aAAa,EAAE,IAC1D,WAAK,KAAK,EAAC,IAAI,EAAC,MAAM,EAAC,GAAG,EAAC,OAAO,EAAC,UAAU,EAAC,IAAI,EAAC,MAAM,EAAC,KAAK,EAAC,4BAA4B,IAC1F,YAAM,CAAC,EAAC,qBAAqB,EAAC,IAAI,EAAC,OAAO,GAAG,EAC7C,YAAM,CAAC,EAAC,mBAAmB,EAAC,IAAI,EAAC,OAAO,GAAG,CACvC,EACL,OAAO,CACD,EACT,cACE,KAAK,EAAE;gBACL,MAAM,EAAE,IAAI;gBACZ,aAAa,EAAE,IAAI,CAAC,SAAS;aAC9B,EACD,OAAO,EAAE,CAAC;gBACR,CAAC,CAAC,cAAc,EAAE,CAAC;gBACnB,CAAC,CAAC,wBAAwB,EAAE,CAAC;gBAC7B,IAAI,CAAC,UAAU,EAAE,CAAC;aACnB,IAED,WAAK,KAAK,EAAC,IAAI,EAAC,MAAM,EAAC,IAAI,EAAC,OAAO,EAAC,WAAW,EAAC,IAAI,EAAC,MAAM,EAAC,KAAK,EAAC,4BAA4B,IAC5F,YAAM,CAAC,EAAC,oBAAoB,EAAC,IAAI,EAAC,OAAO,GAAG,CACxC,EACL,CAAC,IAAI,CAAC,UAAU,GAAG,OAAO,IAAI,CAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,cAAc,KAAI,OAAO,CAAC,GAAG,SAAS,CACpE,CACL,CACF,CACF,EACN;KACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["src/components/core/features/presto-playlist-overlay/presto-playlist-overlay.scss?tag=presto-playlist-overlay&encapsulation=shadow","src/components/core/features/presto-playlist-overlay/presto-playlist-overlay.tsx"],"sourcesContent":[":host {\n  display: block;\n  cursor: pointer;\n}\n.playlist__overlay {\n  color: #fff;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 999;\n\n  h2,\n  p {\n    margin: 0;\n    padding: 0;\n    line-height: 1;\n  }\n\n  h2 {\n    margin-bottom: 0.4em;\n  }\n\n  .playlist__overlay-wrap {\n    top: 0;\n    position: absolute;\n    padding: 25px;\n    left: 0;\n    display: grid;\n    gap: 1em;\n  }\n  .playlist__overlay-buttons {\n    display: flex;\n    gap: 13px;\n    button {\n      background: rgba(255, 255, 255, 0.8);\n      border-radius: 5px;\n      padding: 10px 12px;\n      border: 1px solid #ffffff;\n      font-weight: 500;\n      font-size: 13px;\n      line-height: 15px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      gap: 16px;\n      cursor: pointer;\n\n      &.previous {\n        background-color: transparent;\n        border: 1px solid #ffffff;\n        margin-right: 10px;\n        color: #ffffff;\n      }\n\n      &.next {\n        background: linear-gradient(to right, rgba(255, 255, 255) 50%, rgba(255, 255, 255, 0.8) 50%);\n        background-size: 200% 100%;\n        background-position: right bottom;\n\n        &.fill-button {\n          transition: all var(--playlist-transition-duration, 5s) ease-out;\n          background-position: left bottom;\n        }\n\n        &.disabled {\n          background-color: transparent;\n          border: 1px solid #ffffff;\n          color: #ffffff;\n          background: none;\n        }\n      }\n    }\n  }\n}\n","import { Component, h, Prop, EventEmitter, Event, State, Host, Watch } from '@stencil/core';\n\n@Component({\n  tag: 'presto-playlist-overlay',\n  styleUrl: 'presto-playlist-overlay.scss',\n  shadow: true,\n})\nexport class PrestoPlaylistOverlay {\n  /**\tCaching timout action */\n  private timeout: any;\n\n  /** Title of the upcoming next playlist item */\n  @Prop() nextItemTitle: string;\n\n  /** String for the Button that says `Next Video` */\n  @Prop() nextItemString: string;\n\n  /** Transition duration for next video. */\n  @Prop() transitionDuration: number = 5;\n\n  /** Flag to handle if this item is the last item in the list. */\n  @Prop() isLastItem: boolean = false;\n\n  /** Rewatch item event */\n  @Event() rewatch: EventEmitter<void>;\n\n  /** Next item play event */\n  @Event() next: EventEmitter<void>;\n\n  /** Class value for the Next button to show the fill animation. */\n  @State() animating: boolean = false;\n\n  /** Visibility flag for the Overlay */\n  @Prop() show: boolean = false;\n\n  /**\n   * Watch for show changes\n   */\n  @Watch('show')\n  handleShow() {\n    // we are not showing or this is the last item.\n    if (!this.show || this.isLastItem) {\n      this.animating = false;\n      return;\n    }\n\n    // start animating after 200ms\n    setTimeout(() => {\n      this.animating = true;\n    }, 200);\n\n    this.timeout = setTimeout(() => {\n      if (this.show) {\n        this.handleNext();\n      }\n    }, (this.transitionDuration || 5) * 1000 + 200);\n  }\n\n  /**\n   * Handle the rewatch click event.\n   */\n  handleRewatch() {\n    this.rewatch.emit();\n  }\n\n  /**\n   * Handle the next click event.\n   */\n  handleNext() {\n    this.next.emit();\n  }\n\n  /**\n   * Lifecycle: disconnected\n   */\n  disconnectedCallback() {\n    clearTimeout(this.timeout);\n  }\n\n  @Watch('animating')\n  handleAnimatingChange(val) {\n    if (val) return;\n    clearTimeout(this.timeout);\n  }\n\n  /**\n   * Rendering the component\n   */\n  render() {\n    if (!this.show) {\n      return (\n        <Host>\n          <div style={{ display: 'none' }}></div>\n        </Host>\n      );\n    }\n    const upNext = window?.prestoPlayer?.i18n?.upNext || 'Up Nexts';\n    const startOver = window?.prestoPlayer?.i18n?.startOver || 'Start Over';\n    const rewatch = window?.prestoPlayer?.i18n?.rewatch || 'Rewatch';\n    return (\n      <div\n        class=\"playlist__overlay\"\n        onClick={e => {\n          // This prevents the video from playing/pausing when the overlay is clicked.\n          e.preventDefault();\n          e.stopImmediatePropagation();\n          this.animating = false;\n        }}\n      >\n        <div class=\"playlist__overlay-wrap\">\n          {!this.isLastItem ? <p>{upNext}:</p> : <p>{startOver}:</p>}\n\n          <h2>{this.nextItemTitle}</h2>\n\n          <div class=\"playlist__overlay-buttons\">\n            <button class=\"previous\" onClick={() => this.handleRewatch()}>\n              <svg width=\"15\" height=\"9\" viewBox=\"0 0 15 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M15 0V9L8 4.5L15 0Z\" fill=\"white\" />\n                <path d=\"M7 0V9L0 4.5L7 0Z\" fill=\"white\" />\n              </svg>\n              {rewatch}\n            </button>\n            <button\n              class={{\n                'next': true,\n                'fill-button': this.animating,\n              }}\n              onClick={e => {\n                e.preventDefault();\n                e.stopImmediatePropagation();\n                this.handleNext();\n              }}\n            >\n              <svg width=\"10\" height=\"12\" viewBox=\"0 0 10 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0V12L9.5 6L0 0Z\" fill=\"black\" />\n              </svg>\n              {!this.isLastItem ? 'Next ' + (this?.nextItemString || 'Video') : startOver}\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"],"version":3}