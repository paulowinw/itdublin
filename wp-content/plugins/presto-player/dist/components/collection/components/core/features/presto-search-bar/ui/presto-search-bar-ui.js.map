{"version":3,"file":"presto-search-bar-ui.js","sourceRoot":"","sources":["../../../../../../src/components/core/features/presto-search-bar/ui/presto-search-bar-ui.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Event, EventEmitter, h, Prop, State, Watch } from '@stencil/core';\nimport { CloseIcon, PrevIcon, NextIcon, SearchIcon } from './icons';\n\n@Component({\n  tag: 'presto-search-bar-ui',\n  styleUrl: 'presto-search-bar-ui.scss',\n  shadow: true,\n})\nexport class PrestoSearchBarUi {\n  private placeholderElement: HTMLDivElement;\n  private input: HTMLInputElement;\n\n  /** The value for the search. */\n  @Prop({ mutable: true }) value: string;\n  /** The placeholder. */\n  @Prop() placeholder: string;\n  /** Has results */\n  @Prop() hasNavigation: boolean;\n\n  /** Is this focused */\n  @State() focused: boolean;\n  /** The placeholder width. */\n  @State() placeholderWidth: number;\n\n  /** Previous is navigated.*/\n  @Event() previousNav: EventEmitter<void>;\n  /** Next is navigated */\n  @Event() nextNav: EventEmitter<void>;\n  /** Search is performed */\n  @Event() search: EventEmitter<string>;\n  /** Search is performed */\n  @Event() focusChange: EventEmitter<boolean>;\n\n  /** Handle the search */\n  handleSearch(e) {\n    e.preventDefault();\n    this.value = e.target.value;\n  }\n\n  /** Handle the focus of the input. */\n  handleFocus() {\n    this.focused = true;\n  }\n\n  handleBlur() {\n    if (!this.value) {\n      this.focused = false;\n    }\n  }\n\n  componentDidLoad() {\n    this.handlePlaceholderSize();\n  }\n\n  @Watch('placeholder')\n  handlePlaceholderSize() {\n    setTimeout(() => {\n      this.placeholderWidth = this.placeholderElement.offsetWidth;\n    }, 50);\n  }\n\n  @Watch('value')\n  handleValueChange() {\n    this.search.emit(this.value);\n  }\n\n  @Watch('focused')\n  watchPropHandler(focus: boolean) {\n    this.focusChange.emit(focus);\n  }\n\n  handleClick() {\n    this.focused = true;\n    setTimeout(() => {\n      this.input.focus();\n    }, 50);\n  }\n\n  handleClear(e) {\n    e.preventDefault();\n    e.stopImmediatePropagation();\n    this.value = '';\n    this.focused = false;\n    return false;\n  }\n\n  handleNext(e) {\n    e.stopImmediatePropagation();\n    e.preventDefault();\n    this.nextNav.emit();\n  }\n\n  handlePrevious(e) {\n    e.stopImmediatePropagation();\n    e.preventDefault();\n    this.previousNav.emit();\n  }\n\n  /**\n   * Rendering the component\n   */\n  render() {\n    return (\n      <div\n        class={{\n          'search-bar': true,\n          'search-bar--is-active': this.focused || !!this.value,\n          'search-bar--has-navigation': this.hasNavigation,\n        }}\n        onClick={() => this.handleClick()}\n      >\n        <span class=\"search-bar__search-icon search-bar__icon\">\n          <SearchIcon />\n        </span>\n\n        <div class=\"search-bar__placeholder\" ref={el => (this.placeholderElement = el as HTMLDivElement)} aria-hidden>\n          {this.placeholder}\n        </div>\n\n        <input\n          type=\"text\"\n          value={this.value}\n          placeholder={this.placeholder}\n          ref={el => (this.input = el as HTMLInputElement)}\n          style={{ width: (this.placeholderWidth || 0) + 'px' }}\n          onInput={e => this.handleSearch(e)}\n          onFocus={() => this.handleFocus()}\n          onBlur={() => this.handleBlur()}\n        />\n\n        <span class=\"search-bar__controls\">\n          <span class=\"search-bar__control-prev\" onClick={e => this.handlePrevious(e)}>\n            <PrevIcon />\n          </span>\n          <span class=\"search-bar__control-next\" onClick={e => this.handleNext(e)}>\n            <NextIcon />\n          </span>\n          <div class=\"search-bar__control-clear\" onClick={e => this.handleClear(e)}>\n            <CloseIcon />\n          </div>\n        </span>\n      </div>\n    );\n  }\n}\n"]}