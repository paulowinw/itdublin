{"version":3,"file":"hls-preload-size.js","sourceRoot":"","sources":["../../../../../src/components/core/player/functions/hls-preload-size.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAK,EAAE,MAAM,QAAQ,CAAC;AAE/B,eAAe,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,OAAO,EAAE,WAAW,EAAiG,EAAE,EAAE;IAClJ,iBAAiB;IACjB,IAAI,EAAE,IAAI,EAAE,CAAC,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC;QACxC,OAAO;IACT,CAAC;IAED,8BAA8B;IAC9B,IAAI,CAAC,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC;QAC5C,OAAO;IACT,CAAC;IAED,SAAS;IACT,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC;QAChB,OAAO;IACT,CAAC;IAED,4BAA4B;IAC5B,IAAI,WAAW,GAAG,CAAC,EAAE,CAAC;QACpB,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;QACvB,EAAE,CAAC,KAAK,CAAC,aAAa,GAAG,IAAI,CAAC;QAC9B,EAAE,CAAC,YAAY,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;QACnC,OAAO;IACT,CAAC;IAED,gBAAgB;IAChB,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,EAAE,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;AACpC,CAAC,CAAC","sourcesContent":["import { isHLS } from './util';\n\nexport default ({ src, el, preload, currentTime }: { src: string; el: HTMLElement; preload?: 'metadata' | 'none' | 'auto'; currentTime: number }) => {\n  // already loaded\n  if (el && el.getAttribute('hls_loaded')) {\n    return;\n  }\n\n  // preload is metadata or none\n  if (!['metadata', 'none'].includes(preload)) {\n    return;\n  }\n\n  // no hls\n  if (!isHLS(src)) {\n    return;\n  }\n\n  // if time is greater than 0\n  if (currentTime > 0) {\n    el.style.height = null;\n    el.style.paddingBottom = null;\n    el.setAttribute('hls_loaded', '1');\n    return;\n  }\n\n  // style default\n  el.style.height = '0px';\n  el.style.paddingBottom = '56.25%';\n};\n"]}