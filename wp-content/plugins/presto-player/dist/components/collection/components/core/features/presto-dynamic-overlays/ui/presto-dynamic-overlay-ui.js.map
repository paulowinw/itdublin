{"version":3,"file":"presto-dynamic-overlay-ui.js","sourceRoot":"","sources":["../../../../../../src/components/core/features/presto-dynamic-overlays/ui/presto-dynamic-overlay-ui.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAC5D,OAAO,OAAO,MAAM,mCAAmC,CAAC;AAOxD,MAAM,OAAO,sBAAsB;;;;wBAWY,WAAW;;IAExD,cAAc,CAAC,QAAQ,EAAE,EAAE;QACzB,OAAO,CAAC,EAAE,IAAI,EAAE,IAAI,QAAQ,IAAI,EAAE,IAAI,MAAM,IAAI,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,EAAE,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;IACxI,CAAC;IAED,gBAAgB;QACd,IAAI,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,EAAE,IAAI,CAAC,EAAE,CAA4B,CAAC;QACtF,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE;YACpB,WAAW,EAAE,EAAE;YACf,WAAW,EAAE,EAAE;YACf,SAAS,EAAE,MAAM;SAClB,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAE,MAAsC,CAAC;QACtE,OAAO,CACL,EAAC,GAAG,qDACF,KAAK,EAAE;gBACL,cAAc,EAAE,IAAI;gBACpB,mBAAmB,EAAE,IAAI,CAAC,QAAQ,KAAK,UAAU;gBACjD,oBAAoB,EAAE,IAAI,CAAC,QAAQ,KAAK,WAAW;aACpD,EACD,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,MAAM,EAAE,IAAI,CAAC,MAAM,EACnB,IAAI,EAAC,cAAc,EACnB,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,EAAuB,CAAC;YAEhD,8DAAQ,CACJ,CACP,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, Element, h, Prop } from '@stencil/core';\nimport fitText from '../../../../../library/fittext.js';\n\n@Component({\n  tag: 'presto-dynamic-overlay-ui',\n  styleUrl: 'presto-dynamic-overlay-ui.scss',\n  shadow: true,\n})\nexport class PrestoDynamicOverlayUi {\n  @Element() el: HTMLElement;\n\n  private text: HTMLAnchorElement;\n\n  /** When set, the underlying button will be rendered as an `<a>` with this `href` instead of a `<button>`. */\n  @Prop() href: string;\n\n  /** Tells the browser where to open the link. Only used when `href` is set. */\n  @Prop() target: '_blank' | '_parent' | '_self' | '_top';\n\n  @Prop() position: 'top-left' | 'top-right' = 'top-right';\n\n  closestElement(selector, el) {\n    return (el && el != document && el != window && el.closest(selector)) || (el && this.closestElement(selector, el.getRootNode().host));\n  }\n\n  componentDidLoad() {\n    let player = this.closestElement('presto-player', this.el) as HTMLPrestoPlayerElement;\n    fitText(this.text, 3, {\n      maxFontSize: 16,\n      minFontSize: 10,\n      container: player,\n    });\n  }\n\n  render() {\n    const Tag = this.href ? 'a' : ('span' as keyof JSX.IntrinsicElements);\n    return (\n      <Tag\n        class={{\n          'overlay-text': true,\n          'overlay--top-left': this.position === 'top-left',\n          'overlay--top-right': this.position === 'top-right',\n        }}\n        href={this.href}\n        target={this.target}\n        part=\"overlay-text\"\n        ref={el => (this.text = el as HTMLAnchorElement)}\n      >\n        <slot />\n      </Tag>\n    );\n  }\n}\n"]}