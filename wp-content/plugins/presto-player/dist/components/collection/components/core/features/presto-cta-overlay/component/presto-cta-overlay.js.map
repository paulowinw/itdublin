{"version":3,"file":"presto-cta-overlay.js","sourceRoot":"","sources":["../../../../../../src/components/core/features/presto-cta-overlay/component/presto-cta-overlay.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AAG1D;;;GAGG;AAMH,MAAM,OAAO,gBAAgB;;;;;;;;;;;IAW3B,iBAAiB;QACf,IAAI,CAAC,IAAI,CAAC,MAAM;YAAE,OAAO;QACzB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5D,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IACpB,CAAC;IAED,cAAc,CAAC,CAAC;;QACd,IAAI,CAAC,WAAW,GAAG,MAAA,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,MAAM,0CAAE,IAAI,CAAC,WAAW,CAAC;QAC/C,IAAI,CAAC,QAAQ,GAAG,MAAA,CAAC,aAAD,CAAC,uBAAD,CAAC,CAAE,MAAM,0CAAE,IAAI,CAAC,QAAQ,CAAC;IAC3C,CAAC;IAED;;OAEG;IACH,oBAAoB;QAClB,IAAI,CAAC,IAAI,CAAC,MAAM;YAAE,OAAO;QACzB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IACrD,CAAC;IAED;;;OAGG;IACH,MAAM;;QACJ,OAAO,CACL,sFACE,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,WAAW,EAAE,IAAI,CAAC,WAAW,EAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,SAAS,EAAE,IAAI,CAAC,SAAS,EACzB,GAAG,EAAE,MAAA,IAAI,CAAC,MAAM,0CAAE,GAAG,EACrB,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,QAAQ,EAAE,IAAI,CAAC,QAAQ,GACQ,CAClC,CAAC;IACJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, h, Prop, State } from '@stencil/core';\nimport { i18nConfig, presetAttributes } from '../../../../../interfaces';\n\n/**\n * This component is needed to prevent re-rendering of\n * main component with currentTime changes.\n */\n@Component({\n  tag: 'presto-cta-overlay',\n  styleUrl: 'presto-cta-overlay.css',\n  shadow: false,\n})\nexport class PrestoCTAOverlay {\n  @Prop() player: any;\n  @Prop() direction?: 'rtl';\n  @Prop() preset: presetAttributes;\n  @Prop() i18n: i18nConfig;\n  @Prop() provider: string;\n\n  @State() currentTime: number;\n  @State() duration: number;\n  @State() ended: boolean;\n\n  componentWillLoad() {\n    if (!this.player) return;\n    this.player.on('ended', () => this.setEnded());\n    this.player.on('timeupdate', e => this.setCurrentTime(e));\n  }\n\n  setEnded() {\n    this.ended = true;\n  }\n\n  setCurrentTime(e) {\n    this.currentTime = e?.detail?.plyr.currentTime;\n    this.duration = e?.detail?.plyr.duration;\n  }\n\n  /**\n   * Remove listeners if destroyed\n   */\n  disconnectedCallback() {\n    if (!this.player) return;\n    this.player.off('ended', this.setEnded);\n    this.player.off('timeupdate', this.setCurrentTime);\n  }\n\n  /**\n   * Maybe render\n   * @returns JSX\n   */\n  render() {\n    return (\n      <presto-cta-overlay-controller\n        ended={this.ended}\n        currentTime={this.currentTime}\n        duration={this.duration}\n        direction={this.direction}\n        cta={this.preset?.cta}\n        i18n={this.i18n}\n        provider={this.provider}\n      ></presto-cta-overlay-controller>\n    );\n  }\n}\n"]}