{"version":3,"file":"presto-cta-overlay-ui.e2e.js","sourceRoot":"","sources":["../../../../../../../src/components/core/features/presto-cta-overlay/ui/test/presto-cta-overlay-ui.e2e.ts"],"names":[],"mappings":"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","sourcesContent":["import { newE2EPage } from '@stencil/core/testing';\n\ndescribe('cta-overlay-ui', () => {\n  let page, element;\n\n  beforeEach(async () => {\n    page = await newE2EPage();\n    await page.setContent('<presto-cta-overlay-ui></presto-cta-overlay-ui>');\n\n    element = await page.find('presto-cta-overlay-ui');\n    expect(element).toHaveClass('hydrated');\n  });\n\n  it('renders', async () => {\n    expect(element).toHaveClass('hydrated');\n  });\n\n  it('Has a button', async () => {\n\n    await page.$eval('presto-cta-overlay-ui', (elm: any) => {\n      elm.buttonLink = {\n        url: '#test',\n      };\n      elm.showButton = true;\n      elm.buttonText = 'Button Text';\n    });\n\n    await page.waitForChanges();\n    const button = await page.evaluateHandle(`document.querySelector('presto-cta-overlay-ui').shadowRoot.querySelector('.button')`);\n    expect(button).not.toBe(null);\n\n    // Make sure button is visible.\n    const isVisible = await page.evaluate((button) => {\n      const style = window.getComputedStyle(button);\n      return style && style.display !== 'none' && style.visibility !== 'hidden' && style.opacity !== '0';\n    }, button);\n  \n    expect(isVisible).toBe(true);\n\n    // Make sure button has target attribute set to '_self'.\n    const hasTargetSelfAttribute = await page.evaluate(button => {\n      const targetAttribute = button.getAttribute('target');\n      return targetAttribute === '_self';\n    }, button);\n\n    expect(hasTargetSelfAttribute).toBe(true);\n\n    // Test link.\n    await button.click();\n    const url = await page.evaluate(() => location.href);\n    expect(url).toContain('#test');\n  });\n\n  it('Can open in a new tab', async () => {\n\n    await page.$eval('presto-cta-overlay-ui', (elm: any) => {\n      elm.buttonLink = {\n        url: '#test',\n        opensInNewTab: true,\n      };\n      elm.showButton = true;\n      elm.buttonText = 'Button Text';\n    });\n    await page.waitForChanges();\n\n    const component = await page.find('presto-cta-overlay-ui');\n    const button = component.shadowRoot.querySelector('.button');\n\n    expect(button).toBeDefined();\n    // @ts-ignore\n    expect(button).toHaveAttribute('target', '_blank');\n  });\n\n  it('Can be clickable', async () => {\n\n    element.setProperty('buttonLink', {\n      url: '#test',\n    });\n    await page.waitForChanges();\n\n    await element.click();\n    const url = await page.evaluate(() => location.href);\n    expect(url).toContain('#test');\n  });\n\n  it('Has a skip button', async () => {\n\n    element.setProperty('allowSkip', true);\n    await page.waitForChanges();\n\n    const component = await page.find('presto-cta-overlay-ui');\n    let skip = component.shadowRoot.querySelector('.skip');\n    expect(skip).toBeDefined();\n\n    element.setProperty('i18n', { skip: 'Test Skip Text' });\n    await page.waitForChanges();\n\n    skip = component.shadowRoot.querySelector('.skip');\n    expect(skip).toBeDefined();\n    expect(skip.innerText).toContain('Test Skip Text');\n  });\n\n  it('has a headline', async () => {\n\n    element.setProperty('headline', 'This is a headline');\n    await page.waitForChanges();\n\n    const component = await page.find('presto-cta-overlay-ui');\n    let headline = await component.shadowRoot.querySelector('h1');\n    expect(headline).toBeDefined();\n    expect(headline.innerText).toContain('This is a headline');\n  });\n\n  it('Has a description', async () => {\n\n    element.setProperty('bottomText', 'This is bottom text');\n\n    await page.waitForChanges();\n\n    const component = await page.find('presto-cta-overlay-ui');\n    let text = component.shadowRoot.querySelector('p');\n    expect(text).toBeDefined();\n    expect(text.innerText).toContain('This is bottom text');\n  });\n});\n"]}